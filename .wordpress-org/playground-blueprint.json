{
	"$schema": "https://playground.wordpress.net/blueprint-schema.json",
	"landingPage": "/wp-admin/edit.php?post_type=post",
	"preferredVersions": {
		"wp": "6.6",
		"php": "8.2"
	},
	"features": {
		"networking": true
	},
	"steps": [
		{
			"step": "installPlugin",
			"pluginData": {
				"resource": "url",
				"url": "https://raw.githubusercontent.com/WEBLAZER/any-block-carousel-slider/main/.wordpress-org/any-block-carousel-slider-playground.zip"
			}
		},
		{
			"step": "activatePlugin",
			"pluginPath": "any-block-carousel-slider/any-block-carousel-slider.php"
		},
		{
			"step": "runPHPWithOptions",
			"options": {
				"scriptPath": "index.php",
				"code": "<?php\nrequire_once ABSPATH . 'wp-admin/includes/image.php';\nrequire_once ABSPATH . 'wp-admin/includes/file.php';\nrequire_once ABSPATH . 'wp-admin/includes/media.php';\n\n$existing_posts = get_posts([\n    'post_type'      => ['post', 'page'],\n    'posts_per_page' => -1,\n    'post_status'    => 'any'\n]);\nforeach ($existing_posts as $post) {\n    if ('post' === $post->post_type || 'page' === $post->post_type) {\n        wp_delete_post($post->ID, true);\n    }\n}\n\n$attachments = get_posts([\n    'post_type'      => 'attachment',\n    'posts_per_page' => -1,\n    'post_status'    => 'any'\n]);\nforeach ($attachments as $attachment) {\n    wp_delete_attachment($attachment->ID, true);\n}\n\n$images = [\n    'https://picsum.photos/seed/abcs1/1600/900',\n    'https://picsum.photos/seed/abcs2/1600/900',\n    'https://picsum.photos/seed/abcs3/1600/900',\n    'https://picsum.photos/seed/abcs4/1600/900',\n    'https://picsum.photos/seed/abcs5/1600/900',\n    'https://picsum.photos/seed/abcs6/1600/900'\n];\n\nforeach ($images as $index => $image_url) {\n    $number = str_pad((string) ($index + 1), 2, '0', STR_PAD_LEFT);\n    $post_id = wp_insert_post([\n        'post_title'   => 'Carousel Demo Post ' . $number,\n        'post_content' => 'Utilisez ce post pour activer le mode carousel depuis le bloc Query Loop ou tout autre bloc compatible.',\n        'post_status'  => 'publish',\n        'post_type'    => 'post'\n    ]);\n\n    if (is_wp_error($post_id)) {\n        continue;\n    }\n\n    $attachment_id = media_sideload_image($image_url, $post_id, 'Image de démonstration #' . $number, 'id');\n    if (!is_wp_error($attachment_id)) {\n        set_post_thumbnail($post_id, $attachment_id);\n    }\n}\n"
			}
		},
		{
			"step": "setSiteOptions",
			"options": {
				"blogname": "Any Block Carousel Slider – Playground",
				"blogdescription": "Plugin activé + contenu fictif prêt à transformer en carousel"
			}
		}
	]
}