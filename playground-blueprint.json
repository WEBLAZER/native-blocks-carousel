{
	"$schema": "https://playground.wordpress.net/blueprint-schema.json",
	"landingPage": "/wp-admin/edit.php?post_type=post",
	"preferredVersions": {
		"wp": "6.6",
		"php": "8.2"
	},
	"features": {
		"networking": true
	},
	"steps": [
		{
			"step": "installPlugin",
			"pluginData": {
				"resource": "wordpress.org/plugins",
				"slug": "native-blocks-carousel"
			}
		},
		{
			"step": "activatePlugin",
			"pluginPath": "native-blocks-carousel/any-block-carousel-slider.php"
		},
		{
			"step": "activateTheme",
			"themeFolderName": "twentytwentyfive"
		},
		{
			"step": "wp-cli",
			"command": [
				"wp",
				"site",
				"empty",
				"--yes",
				"--uploads"
			]
		},
		{
			"step": "wp-cli",
			"command": [
				"wp",
				"eval",
				"require_once ABSPATH . 'wp-admin/includes/image.php';\nrequire_once ABSPATH . 'wp-admin/includes/file.php';\nrequire_once ABSPATH . 'wp-admin/includes/media.php';\n\n$images = [\n    'https://picsum.photos/seed/abcs1/1600/900',\n    'https://picsum.photos/seed/abcs2/1600/900',\n    'https://picsum.photos/seed/abcs3/1600/900',\n    'https://picsum.photos/seed/abcs4/1600/900',\n    'https://picsum.photos/seed/abcs5/1600/900',\n    'https://picsum.photos/seed/abcs6/1600/900'\n];\n\nforeach ( $images as $index => $image_url ) {\n    $number  = str_pad( strval( $index + 1 ), 2, '0', STR_PAD_LEFT );\n    $post_id = wp_insert_post( [\n        'post_title'   => 'Carousel Demo Post ' . $number,\n        'post_content' => 'Activez le mode carousel sur ce bloc Query Loop pour tester le plugin.',\n        'post_status'  => 'publish',\n        'post_type'    => 'post'\n    ] );\n\n    if ( is_wp_error( $post_id ) ) {\n        continue;\n    }\n\n    $attachment_id = media_sideload_image( $image_url, $post_id, 'Image de démonstration #' . $number, 'id' );\n    if ( ! is_wp_error( $attachment_id ) ) {\n        set_post_thumbnail( $post_id, $attachment_id );\n    }\n}\n\n$page_content = base64_decode('PCEtLSB3cDpncm91cCAtLT4KPGRpdiBjbGFzcz0id3AtYmxvY2stZ3JvdXAiPjwhLS0gd3A6aGVhZGluZyAtLT4KPGgyIGNsYXNzPSJ3cC1ibG9jay1oZWFkaW5nIj5BcnRpY2xlcyBlbiBjYXJvdXNlbDwvaDI+CjwhLS0gL3dwOmhlYWRpbmcgLS0+CjwhLS0gd3A6cGFyYWdyYXBoIC0tPgo8cD5Tw6lsZWN0aW9ubmV6IHVuIGJsb2MgUXVlcnkgTG9vcCBldCBhY3RpdmV6IGxhIGJhc2N1bGUgIkNhcm91c2VsIiAocGFubmVhdSBNaXNlIGVuIHBhZ2UpIHBvdXIgdm9pciBsJ2VmZmV0IEFueSBCbG9jayBDYXJvdXNlbCBTbGlkZXIuPC9wPgo8IS0tIC93cDpwYXJhZ3JhcGggLS0+CjwhLS0gd3A6cXVlcnkgeyJxdWVyeSI6eyJwZXJQYWdlIjo2LCJwb3N0VHlwZSI6InBvc3QiLCJvcmRlciI6ImRlc2MifSwibGF5b3V0Ijp7InR5cGUiOiJkZWZhdWx0In19IC0tPgo8ZGl2IGNsYXNzPSJ3cC1ibG9jay1xdWVyeSI+PCEtLSB3cDpwb3N0LXRlbXBsYXRlIHsibGF5b3V0Ijp7InR5cGUiOiJncmlkIiwiY29sdW1uQ291bnQiOjN9fSAtLT4KPCEtLSB3cDpncm91cCB7ImNsYXNzTmFtZSI6ImFiY3MgYWJjcy1jb2xzLTMgYWJjcy1pY29uLWNoZXZyb24ifSAtLT4KPGRpdiBjbGFzcz0id3AtYmxvY2stZ3JvdXAgYWJjcyBhYmNzLWNvbHMtMyBhYmNzLWljb24tY2hldnJvbiI+PCEtLSB3cDpwb3N0LWZlYXR1cmVkLWltYWdlIHsiaXNMaW5rIjp0cnVlLCJhc3BlY3RSYXRpbyI6IjMvMiJ9IC8tLT48IS0tIHdwOnBvc3QtdGl0bGUgeyJpc0xpbmsiOnRydWV9IC8tLT48IS0tIHdwOnBvc3QtZXhjZXJwdCAvLS0+PC9kaXY+CjwhLS0gL3dwOmdyb3VwIC0tPgo8IS0tIC93cDpwb3N0LXRlbXBsYXRlIC0tPjwvZGl2Pgo8IS0tIC93cDpxdWVyeSAtLT48L2Rpdj4KPCEtLSAvd3A6Z3JvdXAgLS0+');\n\n$page_id = wp_insert_post( [\n    'post_title'   => 'Démonstration Carousel',\n    'post_content' => $page_content,\n    'post_status'  => 'publish',\n    'post_type'    => 'page'\n] );\n\nif ( ! is_wp_error( $page_id ) ) {\n    update_option( 'show_on_front', 'page' );\n    update_option( 'page_on_front', $page_id );\n}\n"
			]
		},
		{
			"step": "setSiteOptions",
			"options": {
				"blogname": "Any Block Carousel Slider – Playground (Lite)",
				"blogdescription": "Plugin activé + contenu fictif prêt à transformer en carousel"
			}
		}
	]
}